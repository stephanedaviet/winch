<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet/less" type="text/css" href="style.less" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/locale/fr.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-duration-format/1.3.0/moment-duration-format.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.6/lib/typed.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.7.0/jquery.lettering.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css" integrity="sha384-v2Tw72dyUXeU3y4aM2Y0tBJQkGfplr39mxZqlTBDUZAb9BGoC40+rdFCG0m10lXk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/fontawesome.css" integrity="sha384-q3jl8XQu1OpdLgGFvNRnPdj5VIlCvgsDQTQB6owSOHWlAurxul7f+JpUOVdAiJ5P" crossorigin="anonymous">
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">-->
    <link href="https://fonts.googleapis.com/css?family=Exo+2:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.0.0/less.min.js"></script>
</head>
<body id="home">
    <div id="banner" class="animate">
        <p id="rules">
            <span class="loops"><span id="number">20</span> <span class="noun">tours</span><span class="punctuation">,</span></span>
            <span class="chrono"><span class="article">1</span> <span class="noun">chrono</span><span class="punctuation">&nbsp;: </span></span>
        </p>
        <p id="challenge">
            <span class="invitation"></span>
        </p>
        <div id="invitation-sentences">
            <span>à vous de <span class="verb">jouer.</span></span>
            <span>à vous de <span class="verb complete">suer&nbsp;!</span></span>
        </div>
    </div>

    <div id="scores">
        <table>
            <tbody>
                <tr><td>1<sup>er</sup></td><td class="chrono">00:28.356</td></tr>
                <tr><td>2<sup>ème</sup></td><td class="chrono">00:35.158</td></tr>
                <tr><td>3<sup>ème</sup></td><td class="chrono">00:37.542</td></tr>
                <tr><td>42<sup>ème</sup></td><td class="chrono">00:48.948</td></tr>
            </tbody>
        </table>
    </div>

    <div id="start">
        <p>
            <span class="verb">Moulinez</span> pour commencer…
        </p>
    </div>

    <script type="text/javascript">
        $("#number").lettering();

        var animate = function() {
            var typed = new Typed(".invitation", {
                stringsElement: "#invitation-sentences",
                typeSpeed: 120,
                backSpeed: 70,
                showCursor: false,
                onComplete: function() {
                    var bannerElement = document.getElementById('banner');
                    bannerElement.classList.add('fadeAway');

                    window.setTimeout(function() {
                        document.querySelector('#challenge .invitation').innerHTML = null;
                        var content = bannerElement.innerHTML;
                        bannerElement.innerHTML= null;
                        bannerElement.offsetHeight;
                        bannerElement.innerHTML = content;
                        bannerElement.classList.remove('fadeAway');

                        triggerTypedText();
                    }, 1000);
                }
            });
        };

        var triggerTypedText = function() {
            var chronoPunctuation = document.querySelector('#rules .chrono .punctuation');
            chronoPunctuation.onanimationend = animate;
            chronoPunctuation.onanimationiteration = animate;
        };

        triggerTypedText();
    </script>
    <script id="__bs_script__">//<![CDATA[
    document.write("<script async src='http://HOST:3000/browser-sync/browser-sync-client.js?v=2.23.6'><\/script>".replace("HOST", location.hostname));
    //]]></script>
</body>
</html>